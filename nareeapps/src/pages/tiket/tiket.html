<!--
  Generated template for the TiketPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="primary">
        <ion-title>
            <ion-row justify-content-center>
                <ion-col col-4>
                    Tiket
                </ion-col>
            </ion-row>
        </ion-title>
    </ion-navbar>
</ion-header>


<ion-content class="back">
    <ion-card padding color="tittle" style="padding: 10px 10px 10px 10px;">
        <p class="judul">E-Ticket List</p>
    </ion-card>
    <ng-container *ngFor="let ev of events;let i = index">
        <ng-container *ngFor="let pay of payments">
            <ion-card *ngIf="pay.status == 'cancel'" style="margin-top: 5px;">
                <ion-grid>
                    <ion-row>
                        <ion-col col-4>
                            <img class="poster-event" src="https://nareeapp.com/{{ev.poster}}" />
                        </ion-col>
                        <ion-col>
                            <ion-card-title class="judul1" style="white-space: nowrap;overflow: hidden; text-overflow: ellipsis;">
                                {{ev.name_event}}
                            </ion-card-title>
                            <p style="font-weight: bold;margin-top: 10px;margin-bottom: 10px;"> SILAHKAN DAFTAR KEMBALI </p>
                            <!-- <p style="font-weight: bold;"> {{ev.location}}, {{ev.province}}</p> -->
                            <button class="cancelCss" *ngIf="ev.id == pay.id_event && pay.status == 'cancel'">Cancel</button>
                            <button class="waitingCss" *ngIf="ev.id == pay.id_event && pay.status == 'waiting'">Belum Bayar</button>
                            <button class="processCss" *ngIf="ev.id == pay.id_event && pay.status == 'process'">Sedang Diverifikasi</button>
                            <button class="confirmedCss" *ngIf="ev.id == pay.id_event && pay.status == 'confirmed'">Registrasi Berhasil</button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card>
            <ion-card *ngIf="pay.status != 'cancel'" style="margin-top: 5px;">
                <ion-grid>
                    <ion-row>
                        <ion-col col-4>
                            <img class="poster-event" src="https://nareeapp.com/{{ev.poster}}" />
                        </ion-col>
                        <ion-col (click)="openModal(pay)">
                            <ion-card-title class="judul1" style="white-space: nowrap;overflow: hidden; text-overflow: ellipsis;">
                                {{ev.name_event}}
                            </ion-card-title>
                            <p style="font-weight: bold;"> {{ev.date_event|date: 'dd MMMM yyyy'}}</p>
                            <p style="font-weight: bold;"> {{ev.location}}, {{ev.province}}</p>
                            <button class="cancelCss" *ngIf="ev.id == pay.id_event && pay.status == 'cancel'">Cancel</button>
                            <button class="waitingCss" *ngIf="ev.id == pay.id_event && pay.status == 'waiting'">Belum Bayar</button>
                            <button class="processCss" *ngIf="ev.id == pay.id_event && pay.status == 'process'">Sedang Diverifikasi</button>
                            <button class="confirmedCss" *ngIf="ev.id == pay.id_event && pay.status == 'confirmed'">Registrasi Berhasil</button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card>

        </ng-container>
    </ng-container>
</ion-content>